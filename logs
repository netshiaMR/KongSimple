# Use the official Ubuntu base image
FROM ubuntu:latest

# Set environment variables to non-interactive (this prevents some prompts)
ENV DEBIAN_FRONTEND=non-interactive

# Install software updates and required utilities
RUN apt-get update \
    && apt-get install -y --no-install-recommends \
    ca-certificates \
    wget \
    openssl \
    software-properties-common

# Install OpenJDK 17
RUN add-apt-repository -y ppa:openjdk-r/ppa \
    && apt-get update \
    && apt-get install -y openjdk-17-jdk

# Add your application's .cer certificate
COPY your-application.cer /tmp/

# Import the application certificate into the Java truststore
RUN keytool -importcert -file /tmp/your-application.cer -alias your-alias -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit -noprompt

# Clean up
RUN rm -rf /var/lib/apt/lists/* \
    && apt-get clean

# Your application-specific commands here
# ...

# Set the default command to run your application (if any)
# CMD ["your-command-here"]
